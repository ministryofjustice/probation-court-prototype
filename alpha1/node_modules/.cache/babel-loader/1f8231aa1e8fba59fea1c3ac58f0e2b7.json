{"ast":null,"code":"import _regeneratorRuntime from \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/src/scenes/cases/scenes/sentenced-cases/SentenceList.js\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport CaseListFilter from '../case-list/components/CaseListFilter';\nimport { getDateFromProps } from '../../../../utils/DateTools';\n\nfunction SentencedList(props) {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var currentDate = getDateFromProps(props.match.params);\n  useEffect(function () {\n    function getData() {\n      return _getData.apply(this, arguments);\n    }\n\n    function _getData() {\n      _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('http://localhost:8080/api/sentenced');\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                data = _context.sent;\n                setData(data);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getData.apply(this, arguments);\n    }\n\n    window.scrollTo(0, 0);\n    getData();\n  }, []);\n\n  function toggleFilter() {\n    var $filter = document.querySelector('.moj-filter');\n    var $button = document.querySelector('#filter-button');\n\n    if ($filter && $button) {\n      $filter.classList.toggle('moj-hidden');\n      var isOpen = !$filter.classList.contains('moj-hidden');\n      $button.textContent = isOpen ? 'Hide filter' : 'Show filter';\n      $button.setAttribute('aria-expanded', isOpen.toString());\n    }\n  }\n\n  return React.createElement(\"main\", {\n    id: \"main-content\",\n    role: \"main\",\n    className: \"govuk-main-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    className: \"moj-sub-navigation\",\n    \"aria-label\": \"Sub navigation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"moj-sub-navigation__list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"moj-sub-navigation__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/cases/list/\".concat(currentDate.format('DD/MM/YYYY')),\n    className: \"moj-sub-navigation__link govuk-link--no-visited-state\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Cases\")), React.createElement(\"li\", {\n    className: \"moj-sub-navigation__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/cases/adjourned/\".concat(currentDate.format('DD/MM/YYYY')),\n    className: \"moj-sub-navigation__link govuk-link--no-visited-state\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Adjourned cases\")), React.createElement(\"li\", {\n    className: \"moj-sub-navigation__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/cases/sentenced/\".concat(currentDate.format('DD/MM/YYYY')),\n    className: \"moj-sub-navigation__link govuk-link--no-visited-state\",\n    \"aria-current\": \"page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Sentenced cases\")))), data.cases && data.cases.some(function (listItem) {\n    return listItem.deliusUpdated === 'N';\n  }) && React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"govuk-warning-text app-warning-text app-warning-text--interrupt govuk-!-margin-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"govuk-warning-text__icon\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"!\"), React.createElement(\"strong\", {\n    className: \"govuk-warning-text__text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"govuk-warning-text__assistive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Warning\"), \"There is 1 case where the sentence has not been recorded in Delius.\")), React.createElement(\"div\", {\n    className: \"moj-identity-bar app-identity-bar--warning govuk-!-margin-bottom-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-identity-bar__container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"govuk-!-padding-left-4 govuk-!-padding-right-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"govuk-table app-table app-table--split-rows\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Offence\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Sentence\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Recorded in Delius\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"app-!-text-align-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Court\")))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, data.cases && data.cases.map(function (listItem, index) {\n    return listItem.deliusUpdated === 'N' ? React.createElement(Fragment, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, listItem.currentState.type === 'Sentenced' && React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/cases/details/\".concat(listItem.id),\n      className: \"govuk-link govuk-link--no-visited-state\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, listItem.name)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, listItem.offences.map(function (offence, offenceIndex) {\n      return React.createElement(\"p\", {\n        key: offenceIndex,\n        className: \"govuk-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, offence);\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, listItem.sentence.map(function (sentence, sentenceIndex) {\n      return React.createElement(\"p\", {\n        key: sentenceIndex,\n        className: \"govuk-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, sentence);\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, listItem.deliusUpdated === 'N' ? 'No' : 'Yes')), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"app-!-text-align-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, listItem.court)))) : React.createElement(Fragment, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    });\n  }))))))), React.createElement(\"div\", {\n    className: \"moj-filter-layout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter-layout__filter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter moj-hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter__header-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"govuk-heading-m\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Filter\")), React.createElement(\"div\", {\n    className: \"moj-filter__header-action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"moj-filter__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(CaseListFilter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"moj-filter-layout__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"govuk-table app-table\",\n    role: \"presentation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"govuk-heading-l govuk-!-margin-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Sentenced cases \"), React.createElement(\"p\", {\n    className: \"govuk-body-m govuk-!-font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, currentDate.format('dddd, Do MMMM YYYY'), \" \", React.createElement(\"span\", {\n    className: \"govuk-hint govuk-!-display-inline-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"at \", data.court))), React.createElement(\"td\", {\n    className: \"app-!-text-align-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-action-bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    \"data-module\": \"govuk-button\",\n    id: \"filter-button\",\n    className: \"govuk-button govuk-button--secondary govuk-!-margin-bottom-0\",\n    type: \"button\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": \"false\",\n    onClick: function onClick() {\n      return toggleFilter();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"Show filter\")))))), React.createElement(\"div\", {\n    className: \"moj-scrollable-pane\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-scrollable-pane__wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"govuk-table app-table app-table--split-rows\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"Offence\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Sentence\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, \"Recorded in Delius\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"app-!-text-align-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"Court\")))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, data.cases && data.cases.map(function (listItem, index) {\n    return React.createElement(Fragment, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, listItem.deliusUpdated === 'Y' && React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/cases/details/\".concat(listItem.id),\n      className: \"govuk-link govuk-link--no-visited-state\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, listItem.name)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, listItem.offences.map(function (offence, offenceIndex) {\n      return React.createElement(\"p\", {\n        key: offenceIndex,\n        className: \"govuk-body govuk-!-margin-bottom-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, offence);\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, listItem.sentence.map(function (sentence, sentenceIndex) {\n      return React.createElement(\"p\", {\n        key: sentenceIndex,\n        className: \"govuk-body govuk-!-margin-bottom-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, sentence);\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, listItem.deliusUpdated === 'N' ? 'No' : 'Yes')), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"app-!-text-align-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, listItem.court))));\n  }))))))));\n}\n\nexport default SentencedList;","map":{"version":3,"sources":["/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/src/scenes/cases/scenes/sentenced-cases/SentenceList.js"],"names":["React","Fragment","useEffect","useState","Link","CaseListFilter","getDateFromProps","SentencedList","props","data","setData","currentDate","match","params","getData","fetch","response","json","window","scrollTo","toggleFilter","$filter","document","querySelector","$button","classList","toggle","isOpen","contains","textContent","setAttribute","toString","format","cases","some","listItem","deliusUpdated","map","index","currentState","type","id","name","offences","offence","offenceIndex","sentence","sentenceIndex","court"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport CaseListFilter from '../case-list/components/CaseListFilter'\nimport { getDateFromProps } from '../../../../utils/DateTools'\n\nfunction SentencedList (props) {\n\n  const [data, setData] = useState({})\n  const currentDate = getDateFromProps(props.match.params)\n\n  useEffect(() => {\n    async function getData () {\n      const response = await fetch('http://localhost:8080/api/sentenced')\n      const data = await response.json()\n      setData(data)\n    }\n\n    window.scrollTo(0, 0)\n    getData()\n  }, [])\n\n  function toggleFilter () {\n    const $filter = document.querySelector('.moj-filter')\n    const $button = document.querySelector('#filter-button')\n    if ($filter && $button) {\n      $filter.classList.toggle('moj-hidden')\n      const isOpen = !$filter.classList.contains('moj-hidden')\n      $button.textContent = isOpen ? 'Hide filter' : 'Show filter'\n      $button.setAttribute('aria-expanded', isOpen.toString())\n    }\n  }\n\n  return (\n    <main id=\"main-content\" role=\"main\" className=\"govuk-main-wrapper\">\n\n      <nav className=\"moj-sub-navigation\" aria-label=\"Sub navigation\">\n\n        <ul className=\"moj-sub-navigation__list\">\n\n          <li className=\"moj-sub-navigation__item\">\n            <Link to={ `/cases/list/${ currentDate.format('DD/MM/YYYY') }` }\n                  className=\"moj-sub-navigation__link govuk-link--no-visited-state\">\n              Cases\n            </Link>\n          </li>\n\n          <li className=\"moj-sub-navigation__item\">\n            <Link to={ `/cases/adjourned/${ currentDate.format('DD/MM/YYYY') }` }\n                  className=\"moj-sub-navigation__link govuk-link--no-visited-state\">\n              Adjourned cases\n            </Link>\n          </li>\n\n          <li className=\"moj-sub-navigation__item\">\n            <Link to={ `/cases/sentenced/${ currentDate.format('DD/MM/YYYY') }` }\n                  className=\"moj-sub-navigation__link govuk-link--no-visited-state\"\n                  aria-current=\"page\">\n              Sentenced cases\n            </Link>\n          </li>\n\n        </ul>\n\n      </nav>\n\n      { data.cases && data.cases.some(listItem => { return listItem.deliusUpdated === 'N' }) && (\n        <Fragment>\n\n          <div className=\"govuk-warning-text app-warning-text app-warning-text--interrupt govuk-!-margin-0\">\n            <span className=\"govuk-warning-text__icon\" aria-hidden=\"true\">!</span>\n            <strong className=\"govuk-warning-text__text\"><span\n              className=\"govuk-warning-text__assistive\">Warning</span>There is 1 case where the sentence has not been\n              recorded in Delius.</strong>\n          </div>\n\n          <div className=\"moj-identity-bar app-identity-bar--warning govuk-!-margin-bottom-6\">\n            <div className=\"moj-identity-bar__container\">\n              <div className=\"govuk-!-padding-left-4 govuk-!-padding-right-4\">\n\n                <table className=\"govuk-table app-table app-table--split-rows\">\n                  <thead>\n                  <tr>\n                    <th scope=\"col\">Name</th>\n                    <th scope=\"col\">Offence</th>\n                    <th scope=\"col\">Sentence</th>\n                    <th scope=\"col\">Recorded in Delius</th>\n                    <th scope=\"col\"><p className=\"app-!-text-align-right\">Court</p></th>\n                  </tr>\n                  </thead>\n                  <tbody>\n\n                  { data.cases && data.cases.map((listItem, index) => {\n                    return listItem.deliusUpdated === 'N' ? (\n                      <Fragment key={ index }>\n                        { listItem.currentState.type === 'Sentenced' && (\n                          <tr>\n                            <th scope=\"row\"><Link to={ `/cases/details/${ listItem.id }` }\n                                                  className=\"govuk-link govuk-link--no-visited-state\">{ listItem.name }</Link>\n                            </th>\n                            <td>\n                              { listItem.offences.map((offence, offenceIndex) => {\n                                return <p key={ offenceIndex } className=\"govuk-body\">{ offence }</p>\n                              }) }\n                            </td>\n                            <td>\n                              { listItem.sentence.map((sentence, sentenceIndex) => {\n                                return <p key={ sentenceIndex } className=\"govuk-body\">{ sentence }</p>\n                              }) }\n                            </td>\n                            <td>\n                              <p>{ listItem.deliusUpdated === 'N' ? 'No' : 'Yes' }</p>\n                            </td>\n                            <td><p className=\"app-!-text-align-right\">{ listItem.court }</p>\n                            </td>\n                          </tr>\n                        ) }\n                      </Fragment>\n                    ) : (<Fragment key={ index }/>)\n                  }) }\n\n                  </tbody>\n                </table>\n              </div>\n\n            </div>\n          </div>\n        </Fragment>\n      ) }\n\n\n      <div className=\"moj-filter-layout\">\n\n        <div className=\"moj-filter-layout__filter\">\n          <div className=\"moj-filter moj-hidden\">\n            <div className=\"moj-filter__header\">\n\n              <div className=\"moj-filter__header-title\">\n                <h2 className=\"govuk-heading-m\">Filter</h2>\n              </div>\n\n              <div className=\"moj-filter__header-action\">\n\n              </div>\n\n            </div>\n\n            <div className=\"moj-filter__content\">\n\n              <CaseListFilter/>\n\n            </div>\n\n          </div>\n\n        </div>\n\n        <div className=\"moj-filter-layout__content\">\n\n          <table className=\"govuk-table app-table\" role=\"presentation\">\n            <tbody>\n            <tr>\n              <td>\n                <h2 className=\"govuk-heading-l govuk-!-margin-0\">Sentenced cases </h2>\n                <p className=\"govuk-body-m govuk-!-font-weight-bold\">{ currentDate.format('dddd, Do MMMM YYYY') } <span\n                  className=\"govuk-hint govuk-!-display-inline-block\">at { data.court }</span></p>\n              </td>\n              <td className=\"app-!-text-align-right\">\n\n                <div className=\"moj-action-bar\">\n                  <button data-module=\"govuk-button\" id=\"filter-button\" className=\"govuk-button govuk-button--secondary govuk-!-margin-bottom-0\"\n                          type=\"button\"\n                          aria-haspopup=\"true\"\n                          aria-expanded=\"false\" onClick={ () => toggleFilter() }>Show filter\n                  </button>\n                </div>\n\n              </td>\n            </tr>\n            </tbody>\n          </table>\n\n          <div className=\"moj-scrollable-pane\">\n\n            <div className=\"moj-scrollable-pane__wrapper\">\n\n              <table className=\"govuk-table app-table app-table--split-rows\">\n\n                <thead>\n                <tr>\n                  <th scope=\"col\">Name</th>\n                  <th scope=\"col\">Offence</th>\n                  <th scope=\"col\">Sentence</th>\n                  <th scope=\"col\">Recorded in Delius</th>\n                  <th scope=\"col\"><p className=\"app-!-text-align-right\">Court</p></th>\n                </tr>\n                </thead>\n\n                <tbody>\n\n                { data.cases && data.cases.map((listItem, index) => {\n                  return (\n                    <Fragment key={ index }>\n                      { listItem.deliusUpdated === 'Y' && (\n                        <tr>\n                          <th scope=\"row\"><Link to={ `/cases/details/${ listItem.id }` }\n                                                className=\"govuk-link govuk-link--no-visited-state\">{ listItem.name }</Link>\n                          </th>\n                          <td>\n                            { listItem.offences.map((offence, offenceIndex) => {\n                              return <p key={ offenceIndex }\n                                        className=\"govuk-body govuk-!-margin-bottom-2\">{ offence }</p>\n                            }) }\n                          </td>\n                          <td>\n                            { listItem.sentence.map((sentence, sentenceIndex) => {\n                              return <p key={ sentenceIndex }\n                                        className=\"govuk-body govuk-!-margin-bottom-2\">{ sentence }</p>\n                            }) }\n                          </td>\n                          <td>\n                            <p>{ listItem.deliusUpdated === 'N' ? 'No' : 'Yes' }</p>\n                          </td>\n                          <td><p className=\"app-!-text-align-right\">{ listItem.court }</p>\n                          </td>\n                        </tr>\n                      ) }\n                    </Fragment>\n                  )\n                }) }\n\n                </tbody>\n              </table>\n\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n\n    </main>\n  )\n}\n\nexport default SentencedList"]},"metadata":{},"sourceType":"module"}