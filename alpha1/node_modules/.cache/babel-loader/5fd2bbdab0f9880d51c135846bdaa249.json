{"ast":null,"code":"import _regeneratorRuntime from \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/src/scenes/cases/scenes/case-list/CaseList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { useStateValue } from '../../../../utils/StateProvider';\nimport Pagination from '../../../../components/Pagination';\nimport CaseListFilter from './components/CaseListFilter';\n\nfunction CaseList(props) {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useStateValue = useStateValue(),\n      _useStateValue2 = _slicedToArray(_useStateValue, 2),\n      currentDate = _useStateValue2[0].currentDate,\n      dispatch = _useStateValue2[1];\n\n  useEffect(function () {\n    function notInString($title, $string) {\n      return $title.toLowerCase().indexOf($string) === -1;\n    }\n\n    function configureData($data) {\n      var cases = [];\n      var unmatched = [];\n      $data.sessions.forEach(function ($session) {\n        $session.blocks.forEach(function ($block) {\n          $block.cases.forEach(function ($case) {\n            $case = _objectSpread({}, $case, {\n              courtRoom: parseInt($session.courtRoom, 10),\n              startTime: $block.startTime,\n              endTime: $block.endTime,\n              noMatch: $case.defendant.deliusStatus === 'NO_MATCH'\n            });\n            $case.defendant = _objectSpread({}, $case.defendant, {\n              name: fixNameCase($case.defendant.name)\n            });\n\n            if ($case.noMatch) {\n              unmatched.push($case);\n            } else if ($case.offences.some(function (item) {\n              return notInString(item.title, 'speed') && notInString(item.title, 'non-payment') && notInString(item.title, 'television');\n            })) {\n              cases.push($case);\n            }\n          });\n        });\n      });\n      setData({\n        courtName: $data.courtName,\n        cases: cases,\n        unmatched: unmatched\n      });\n    }\n\n    function getData() {\n      return _getData.apply(this, arguments);\n    }\n\n    function _getData() {\n      _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('http://localhost:8080/api/bigcaselist');\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                data = _context.sent;\n                configureData(data);\n                dispatch({\n                  type: 'setCourt',\n                  setCourt: data.courtName\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getData.apply(this, arguments);\n    }\n\n    window.scrollTo(0, 0);\n    getData();\n  }, [dispatch]);\n\n  function toggleFilter() {\n    var $filter = document.querySelector('.moj-filter');\n    var $button = document.querySelector('#filter-button');\n\n    if ($filter && $button) {\n      $filter.classList.toggle('moj-hidden');\n      var isOpen = !$filter.classList.contains('moj-hidden');\n      $button.textContent = isOpen ? 'Hide filter' : 'Show filter';\n      $button.setAttribute('aria-expanded', isOpen.toString());\n    }\n  }\n\n  function fixNameCase($name) {\n    return $name.toLowerCase().replace('miss ', '').replace('mrs ', '').replace('mr ', '').split(' ').map(function (item) {\n      return item.charAt(0).toUpperCase() + item.slice(1);\n    }).join(' ');\n  }\n\n  return React.createElement(\"main\", {\n    id: \"main-content\",\n    role: \"main\",\n    className: \"govuk-main-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    className: \"moj-sub-navigation govuk-!-margin-bottom-6\",\n    \"aria-label\": \"Sub navigation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"govuk-hint app-!-float-right govuk-!-margin-top-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"\\xA0Last updated \", currentDate.format('dddd, Do MMMM YYYY'), \" at 10:30\"), React.createElement(\"ul\", {\n    className: \"moj-sub-navigation__list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"moj-sub-navigation__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/cases/list/\".concat(currentDate.format('DD/MM/YYYY')),\n    className: \"moj-sub-navigation__link govuk-link--no-visited-state\",\n    \"aria-current\": \"page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, currentDate.format('dddd, Do MMMM YYYY'))), React.createElement(\"li\", {\n    className: \"moj-sub-navigation__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/cases/list/\".concat(moment(currentDate).add(1, 'd').format('DD/MM/YYYY')),\n    className: \"moj-sub-navigation__link govuk-link--no-visited-state\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, moment(currentDate).add(1, 'd').format('dddd, Do MMMM YYYY'))), React.createElement(\"li\", {\n    className: \"moj-sub-navigation__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/cases/list/\".concat(moment(currentDate).add(2, 'd').format('DD/MM/YYYY')),\n    className: \"moj-sub-navigation__link govuk-link--no-visited-state\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, moment(currentDate).add(2, 'd').format('dddd, Do MMMM YYYY'))))), React.createElement(\"div\", {\n    className: \"moj-filter-layout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter-layout__filter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter moj-hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-filter__header-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"govuk-heading-m app-!-color-white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Filter\")), React.createElement(\"div\", {\n    className: \"moj-filter__header-action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"moj-filter__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(CaseListFilter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"moj-filter-layout__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"govuk-table app-table govuk-!-margin-bottom-2\",\n    role: \"presentation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"govuk-heading-l govuk-!-margin-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"Cases\", React.createElement(\"span\", {\n    className: \"govuk-hint govuk-!-display-inline-block govuk-!-margin-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"\\xA0matched to offender records in Delius\")), React.createElement(\"p\", {\n    className: \"govuk-body-m govuk-!-font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, currentDate.format('dddd, Do MMMM YYYY'), React.createElement(\"span\", {\n    className: \"govuk-hint govuk-!-display-inline-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"\\xA0at \", data.courtName))), React.createElement(\"td\", {\n    className: \"app-!-text-align-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-action-bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    \"data-module\": \"govuk-button\",\n    id: \"filter-button\",\n    className: \"govuk-button govuk-button--secondary govuk-!-margin-bottom-0 govuk-!-margin-right-2\",\n    type: \"button\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": \"false\",\n    onClick: function onClick() {\n      return toggleFilter();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Show filter\"), React.createElement(\"button\", {\n    \"data-module\": \"govuk-button\",\n    className: \"govuk-button govuk-button--secondary govuk-!-margin-bottom-0\",\n    type: \"button\",\n    \"aria-expanded\": \"false\",\n    onClick: function onClick(e) {\n      return e.preventDefault();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Show blocks\"), React.createElement(\"div\", {\n    className: \"moj-action-bar__filter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"moj-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-menu__wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    \"data-module\": \"govuk-button\",\n    type: \"button\",\n    className: \"govuk-button app-button--interrupt moj-menu__item\",\n    onClick: function onClick() {\n      props.history.push('/cases/add');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, \"Add case\")))))))), React.createElement(\"div\", {\n    className: \"moj-scrollable-pane\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moj-scrollable-pane__wrapper govuk-!-margin-top-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, data.unmatched && data.unmatched.length && React.createElement(\"div\", {\n    className: \"app-warning-text app-warning-text--interrupt govuk-!-margin-bottom-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"govuk-body app-!-float-right govuk-!-margin-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"govuk-link govuk-link--no-visited-state\",\n    to: \"/cases/unmatched-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"Match offender records\")), React.createElement(\"p\", {\n    className: \"govuk-body govuk-!-font-weight-bold govuk-!-margin-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"There are \", data.unmatched.length, \" cases that have not been matched to Delius records\")), React.createElement(\"table\", {\n    className: \"govuk-table app-table app-table--split-rows app-alternate-rows-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    scope: \"col\",\n    style: {\n      'width': '40%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"Offence\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, \"Delius record\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \"Sitting\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, \"Court\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, data.cases && data.cases.map(function ($case, caseIndex) {\n    return caseIndex < 15 && React.createElement(\"tr\", {\n      key: caseIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/cases/details/\".concat($case.id),\n      onClick: function onClick() {\n        dispatch({\n          type: 'setCase',\n          setCase: $case\n        });\n      },\n      className: \"govuk-link govuk-link--no-visited-state\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, $case.defendant.name)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, $case.offences.length > 1 ? React.createElement(\"ol\", {\n      className: \"govuk-list govuk-!-margin-left-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, $case.offences.map(function (offence, offenceIndex) {\n      return React.createElement(\"li\", {\n        key: offenceIndex,\n        className: \"govuk-list--number app-offence-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, offence.title);\n    })) : React.createElement(\"p\", {\n      className: \"govuk-body govuk-!-margin-bottom-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, $case.offences[0].title)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, $case.defendant.breachedConditions && React.createElement(\"div\", {\n      className: \"moj-badge moj-badge--grey govuk-!-display-block govuk-!-margin-bottom-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Breach\"), $case.defendant.ssoAlert && React.createElement(\"div\", {\n      className: \"moj-badge moj-badge--grey govuk-!-display-block govuk-!-margin-bottom-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"SSO\"), $case.defendant.deliusStatus, $case.defendant.assignment && React.createElement(\"span\", {\n      className: \"govuk-hint govuk-!-margin-0 govuk-!-display-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"\\xA0(\", $case.defendant.assignment, \")\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, $case.listingNumber === '2st' ? '2nd' : $case.listingNumber, \" listing\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, moment($case.startTime, 'HH:mm:ss').format('HH:mm'), \" - \", moment($case.endTime, 'HH:mm:ss').format('HH:mm')), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, $case.courtRoom));\n  }))))), React.createElement(Pagination, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }))));\n}\n\nexport default CaseList;","map":{"version":3,"sources":["/Users/katiecawthorne/Documents/prototype/probation-court-prototype/alpha1/src/scenes/cases/scenes/case-list/CaseList.js"],"names":["React","useEffect","useState","Link","moment","useStateValue","Pagination","CaseListFilter","CaseList","props","data","setData","currentDate","dispatch","notInString","$title","$string","toLowerCase","indexOf","configureData","$data","cases","unmatched","sessions","forEach","$session","blocks","$block","$case","courtRoom","parseInt","startTime","endTime","noMatch","defendant","deliusStatus","name","fixNameCase","push","offences","some","item","title","courtName","getData","fetch","response","json","type","setCourt","window","scrollTo","toggleFilter","$filter","document","querySelector","$button","classList","toggle","isOpen","contains","textContent","setAttribute","toString","$name","replace","split","map","charAt","toUpperCase","slice","join","format","add","e","preventDefault","history","length","caseIndex","id","setCase","offence","offenceIndex","breachedConditions","ssoAlert","assignment","listingNumber"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment'\n\nimport { useStateValue } from '../../../../utils/StateProvider'\n\nimport Pagination from '../../../../components/Pagination'\nimport CaseListFilter from './components/CaseListFilter'\n\nfunction CaseList (props) {\n\n  const [data, setData] = useState({})\n  const [{ currentDate }, dispatch] = useStateValue()\n\n  useEffect(() => {\n\n    function notInString ($title, $string) {\n      return $title.toLowerCase().indexOf($string) === -1\n    }\n\n    function configureData ($data) {\n      let cases = []\n      let unmatched = []\n      $data.sessions.forEach($session => {\n        $session.blocks.forEach($block => {\n          $block.cases.forEach($case => {\n\n            $case = {\n              ...$case,\n              courtRoom: parseInt($session.courtRoom, 10),\n              startTime: $block.startTime,\n              endTime: $block.endTime,\n              noMatch: $case.defendant.deliusStatus === 'NO_MATCH'\n            }\n\n            $case.defendant = { ...$case.defendant, name: fixNameCase($case.defendant.name) }\n\n            if ($case.noMatch) {\n              unmatched.push($case)\n            } else if ($case.offences.some(item => { return notInString(item.title, 'speed') && notInString(item.title, 'non-payment') && notInString(item.title, 'television') })) {\n              cases.push($case)\n            }\n          })\n        })\n      })\n      setData({ courtName: $data.courtName, cases: cases, unmatched: unmatched })\n    }\n\n    async function getData () {\n      const response = await fetch('http://localhost:8080/api/bigcaselist')\n      const data = await response.json()\n      configureData(data)\n      dispatch({ type: 'setCourt', setCourt: data.courtName })\n    }\n\n    window.scrollTo(0, 0)\n    getData()\n  }, [dispatch])\n\n  function toggleFilter () {\n    const $filter = document.querySelector('.moj-filter')\n    const $button = document.querySelector('#filter-button')\n    if ($filter && $button) {\n      $filter.classList.toggle('moj-hidden')\n      const isOpen = !$filter.classList.contains('moj-hidden')\n      $button.textContent = isOpen ? 'Hide filter' : 'Show filter'\n      $button.setAttribute('aria-expanded', isOpen.toString())\n    }\n  }\n\n  function fixNameCase ($name) {\n    return $name.toLowerCase().replace('miss ', '').replace('mrs ', '').replace('mr ', '').split(' ').map(item => { return item.charAt(0).toUpperCase() + item.slice(1) }).join(' ')\n  }\n\n  return (\n    <main id=\"main-content\" role=\"main\" className=\"govuk-main-wrapper\">\n\n      <nav className=\"moj-sub-navigation govuk-!-margin-bottom-6\" aria-label=\"Sub navigation\">\n\n        <p className=\"govuk-hint app-!-float-right govuk-!-margin-top-2\">&nbsp;Last\n          updated { currentDate.format('dddd, Do MMMM YYYY') } at 10:30</p>\n\n        <ul className=\"moj-sub-navigation__list\">\n\n          <li className=\"moj-sub-navigation__item\">\n            <Link to={ `/cases/list/${ currentDate.format('DD/MM/YYYY') }` }\n                  className=\"moj-sub-navigation__link govuk-link--no-visited-state\"\n                  aria-current=\"page\">\n              { currentDate.format('dddd, Do MMMM YYYY') }\n            </Link>\n          </li>\n\n          <li className=\"moj-sub-navigation__item\">\n            <Link to={ `/cases/list/${ moment(currentDate).add(1, 'd').format('DD/MM/YYYY') }` }\n                  className=\"moj-sub-navigation__link govuk-link--no-visited-state\">\n              { moment(currentDate).add(1, 'd').format('dddd, Do MMMM YYYY') }\n            </Link>\n          </li>\n\n          <li className=\"moj-sub-navigation__item\">\n            <Link to={ `/cases/list/${ moment(currentDate).add(2, 'd').format('DD/MM/YYYY') }` }\n                  className=\"moj-sub-navigation__link govuk-link--no-visited-state\">\n              { moment(currentDate).add(2, 'd').format('dddd, Do MMMM YYYY') }\n            </Link>\n          </li>\n\n        </ul>\n\n      </nav>\n\n\n      <div className=\"moj-filter-layout\">\n\n        <div className=\"moj-filter-layout__filter\">\n          <div className=\"moj-filter moj-hidden\">\n            <div className=\"moj-filter__header\">\n\n              <div className=\"moj-filter__header-title\">\n                <h2 className=\"govuk-heading-m app-!-color-white\">Filter</h2>\n              </div>\n\n              <div className=\"moj-filter__header-action\"/>\n\n            </div>\n\n            <div className=\"moj-filter__content\">\n\n              <CaseListFilter/>\n\n            </div>\n\n          </div>\n\n        </div>\n\n        <div className=\"moj-filter-layout__content\">\n\n          <table className=\"govuk-table app-table govuk-!-margin-bottom-2\" role=\"presentation\">\n            <tbody>\n            <tr>\n              <td>\n                <h2 className=\"govuk-heading-l govuk-!-margin-0\">Cases<span\n                  className=\"govuk-hint govuk-!-display-inline-block govuk-!-margin-0\">&nbsp;matched to offender records in Delius</span>\n                </h2>\n                <p className=\"govuk-body-m govuk-!-font-weight-bold\">{ currentDate.format('dddd, Do MMMM YYYY') }\n                  <span className=\"govuk-hint govuk-!-display-inline-block\">&nbsp;at { data.courtName }</span>\n                </p>\n              </td>\n              <td className=\"app-!-text-align-right\">\n\n                <div className=\"moj-action-bar\">\n                  <button data-module=\"govuk-button\" id=\"filter-button\"\n                          className=\"govuk-button govuk-button--secondary govuk-!-margin-bottom-0 govuk-!-margin-right-2\"\n                          type=\"button\"\n                          aria-haspopup=\"true\"\n                          aria-expanded=\"false\" onClick={ () => toggleFilter() }>Show filter\n                  </button>\n\n                  <button data-module=\"govuk-button\"\n                          className=\"govuk-button govuk-button--secondary govuk-!-margin-bottom-0\"\n                          type=\"button\"\n                          aria-expanded=\"false\" onClick={ e => e.preventDefault() }>Show blocks\n                  </button>\n\n                  <div className=\"moj-action-bar__filter\"/>\n\n                  <div className=\"moj-menu\">\n                    <div className=\"moj-menu__wrapper\">\n\n                      <button data-module=\"govuk-button\" type=\"button\"\n                              className=\"govuk-button app-button--interrupt moj-menu__item\"\n                              onClick={ () => {\n                                props.history.push('/cases/add')\n                              } }>\n                        Add case\n                      </button>\n\n                    </div>\n                  </div>\n\n                </div>\n\n              </td>\n            </tr>\n            </tbody>\n          </table>\n\n          <div className=\"moj-scrollable-pane\">\n\n            <div className=\"moj-scrollable-pane__wrapper govuk-!-margin-top-0\">\n\n              { data.unmatched && data.unmatched.length && (\n                <div className=\"app-warning-text app-warning-text--interrupt govuk-!-margin-bottom-4\">\n                  <p className=\"govuk-body app-!-float-right govuk-!-margin-0\">\n                    <Link className=\"govuk-link govuk-link--no-visited-state\" to=\"/cases/unmatched-list\">Match offender\n                      records</Link>\n                  </p>\n                  <p className=\"govuk-body govuk-!-font-weight-bold govuk-!-margin-0\">There\n                    are { data.unmatched.length } cases that have not been matched to Delius records</p>\n                </div>\n              ) }\n\n              <table className=\"govuk-table app-table app-table--split-rows app-alternate-rows-table\">\n                <thead>\n                <tr>\n                  <th scope=\"col\">Name</th>\n                  <th scope=\"col\" style={ { 'width': '40%' } }>Offence</th>\n                  <th scope=\"col\">Delius record</th>\n                  <th scope=\"col\">Status</th>\n                  <th scope=\"col\">Sitting</th>\n                  <th scope=\"col\">Court</th>\n                </tr>\n                </thead>\n                <tbody>\n\n                { data.cases && data.cases.map(($case, caseIndex) => {\n                  return (\n                    caseIndex < 15 && (\n                      <tr key={ caseIndex }>\n                        <th scope=\"row\"><Link\n                          to={ `/cases/details/${ $case.id }` }\n                          onClick={ () => {\n                            dispatch({ type: 'setCase', setCase: $case })\n                          } }\n                          className=\"govuk-link govuk-link--no-visited-state\">{ $case.defendant.name }</Link>\n                        </th>\n                        <td>\n                          { $case.offences.length > 1 ? (\n                            <ol className=\"govuk-list govuk-!-margin-left-4\">\n                              { $case.offences.map((offence, offenceIndex) => {\n                                return <li key={ offenceIndex }\n                                           className=\"govuk-list--number app-offence-title\">{ offence.title }</li>\n                              }) }\n                            </ol>\n                          ) : (\n                            <p className=\"govuk-body govuk-!-margin-bottom-2\">{ $case.offences[0].title }</p>\n                          ) }\n                        </td>\n                        <td>\n                          { $case.defendant.breachedConditions && (\n                            <div\n                              className=\"moj-badge moj-badge--grey govuk-!-display-block govuk-!-margin-bottom-1\">Breach</div>\n                          ) }\n\n                          { $case.defendant.ssoAlert && (\n                            <div\n                              className=\"moj-badge moj-badge--grey govuk-!-display-block govuk-!-margin-bottom-1\">SSO</div>\n                          ) }\n\n                          { $case.defendant.deliusStatus }\n                          { $case.defendant.assignment && (\n                            <span\n                              className=\"govuk-hint govuk-!-margin-0 govuk-!-display-inline-block\">&nbsp;({ $case.defendant.assignment })</span>\n                          ) }\n                        </td>\n                        <td>{ $case.listingNumber === '2st' ? '2nd' : $case.listingNumber } listing</td>\n                        <td>{ moment($case.startTime, 'HH:mm:ss').format('HH:mm') } - { moment($case.endTime, 'HH:mm:ss').format('HH:mm') }</td>\n                        <td>{ $case.courtRoom }</td>\n                      </tr>\n                    )\n                  )\n                }) }\n\n                </tbody>\n              </table>\n\n            </div>\n\n          </div>\n\n          <Pagination/>\n\n        </div>\n      </div>\n\n    </main>\n  )\n}\n\nexport default CaseList"]},"metadata":{},"sourceType":"module"}